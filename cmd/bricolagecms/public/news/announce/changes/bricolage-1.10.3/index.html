
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Bricolage CMS -- Bricolage 1.10.3 Changes</title>
	<meta name="keywords" content="" />
    <meta name="generator" content="Bricolage 2.0.0" />
	<link rel="stylesheet" href="../../../../ui/css/blueprint/screen.css" type="text/css" media="screen, projection">
	<link rel="stylesheet" href="../../../../ui/css/blueprint/print.css" type="text/css" media="print">
<!--[if lt IE 8]>
            <link rel="stylesheet" href="/ui/css/blueprint/ie.css" type="text/css" media="screen, projection">
        <![endif]-->
	<link rel="stylesheet" href="../../../../ui/css/bricolagecms-org.css@v04112010-2.css" type="text/css" media="screen, projection">
	
    <link rel="alternate" type="application/rss+xml" title="Bricolage CMS RSS Feed" href="http://feeds.feedburner.com/BricolageCMS" />

	<script type="text/javascript" src="../../../../ui/js/jquery/jquery-1.3.2.min.js">
    </script> 
    <script type="text/javascript" src="http://cloud.github.com/downloads/malsup/cycle/jquery.cycle.all.2.72.js"></script>
	<script src="../../../../ui/js/jquery.corner.js" type="text/javascript">
    </script> 
    <script type="text/javascript">
			$(function(){
			$('#header').corner("bottom");
			$('.box').corner("keep");
			$('#teaser').corner("keep");
			$('#enterprise').corner("keep");
			$('#sidebar dl').corner("keep");
			$('#slides').cycle({
				fx: 'fade',
   				timeout: 8000,  // milliseconds between slide transitions (0 to disable auto advance) 
    			pause: 1,     // true to enable "pause on hover" 
				});
			});
		</script> 
<script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
</head>
<body id="bricolage-1.10.3" class="news announce changes">
	<div class="container">
		<div id="header">
			<div class="header span-24 last">
				<a href="../../../../index.html"><h1>Bricolage Content Management System</h1></a> 
				<ul id="main-nav">
					<li>
						<a href="../../../../tour/index.html">Tour</a> 
					</li>
					<li>
						<a href="../../../../showcase/index.html">Showcase</a> 
					</li>
					<li>
						<a href="../../../../downloads.html">Download</a> 
					</li>
					<li>
						<a href="../../../../support/index.html">Support</a> 
					</li>
					<li>
						<a href="https://github.com/bricoleurs/bricolage/wiki">Wiki</a> 
					</li>
					<li>
						<a href="../../../../docs/current/api/index.html">API</a> 
					</li>
				</ul>
			</div>
		</div>	

<div id="content" class="column span-15 prepend-1">
	<h2>Bricolage 1.10.3 Changes</h2>
	<div id="articlemeta">
            <p class="date">2007.08.10</p>
          </div>
          <h3>Improvements</h3>
        <div class="list">
          <ul>
            <li><p>If <code>Term::ReadPassword</code> isn't found during installation, a better error message is displayed. [Scott]</p></li>
            <li><p>Added output channel name to "Could not find template" error message in the Mason Burner. [Paul Orrock]</p></li>
            <li><p>The contributed Linux start script (contrib/start_scripts/linux) now restarts the "bric_queued" server when the "restart" command is used and the "bric_queued" server is enabled. It also now also passes a log file name to "bric_queued" so that publishing errors can more easily be traced. [David]</p></li>
            <li><p>Overriding Mason inheritance in story element templates by setting <code>$inherit</code> in the <code>&lt;%flags&gt;</code> block now works correctly. Thanks to Alexey Sheynuk for tracking down the issue. Reported by Ashlee Caul. [David]</p></li>
            <li><p>Added start script for FreeBSD, contrib/start_scripts/freebsd. [David]</p></li>
            <li><p>Updated the Portuguese localizations. [Pedro Custodio]</p></li>
            <li><p>A story being published for the first time now has its "publish_status" set to true *before* it is published, instead of aftewards. This both prevents an exception when a template tries to save a story that has not been published before, and eliminates the need for templates to set the "publish_status" on a story before calling "publish_another()" for a another story that will search for the current story in the database. Reported by Rod Taylor (Ticket #1230). [David]</p></li>
            <li><p>Related stories and media can no longer be added to container elements not based on related story and/or media element types. Reported by Marshall Roch (Ticket # 1231). [David]</p></li>
            <li><p>When the <code>ALWAYS_USE_SSL</code> bricolage.conf directive is enabled, Bricolage now sets up the non-SSL port to permanently redirect to the SSL port. This prevents users from removing the "s" from "https" and thus being able to use Bricolage insecurely when their administrators don't want them to. Reported by Joe Pletcher (Ticket# 1233). [David]</p></li>
            <li><p>Added "Autovacuum" section to <code>Bric::DBA</code>. The "autovacuum" settings in postgresql.conf are available in PostgreSQL 8.1 and later. [David]</p></li>
            <li><p>Improved verbose output in contrib/bric_media_upload to include bric_soap commands in output. Also now uses /usr/bin/perl instead of /usr/local/bin/perl to be consistent with other scripts and bricolage core. [Paul Orrock]</p></li>
            <li><p>Fixed an error message during inst/clone.pl where the wrong version was being displayed. [Scott]</p></li>
            <li><p>Added <q>make hot_copy</q>, which will install a clone that uses hardlinks to the original installation for <code>MASON_DATA_ROOT</code> and <code>MASON_COMP_ROOT</code>. This is useful for forking a production install into a development install (on the same box) without duplicating all of your media files. Requires `cp` from GNU coreutils, so it will not work out of the box on BSD or OS X. [Marshall]</p></li>
            <li><p>Removed extra call to <code>Category->list</code> during cloning. [Scott]</p></li>
            <li><p>Added a <q>--site</q> option to <q>bric_dev_sync</q> to limit the templates and elements that are synchronized to one site. [Marshall]</p></li>
            <li><p>Various minor notes tweaks, including the elimination of version 0 notes from the UI, and we no longer include the note from the previous version in the form for the new version. [David Beaudet]</p></li>
            <li><p>Added optional sortby parameter to $story->get_secondary_categories to allow sorting by uri. Returns default order if not given. [Paul Orrock]</p></li>
            <li><p>Fixed typo in 'Story' element type description. Reported (bug 1289) by Brad Harder. [Scott]</p></li>
            <li><p>Several German localization patches from Steffen Schwigon and improved buttons from Rolf Schaufelberger.</p></li>
            <li><p>Increased length of full names of categories to be 128 characters from 64 [Paul Orrock]</p></li>
            <li><p>When saving from the Keyword Profile, the message 'Keyword profile <q>Name</q> saved.' was using the previous Name instead of the updated one. [Scott]</p></li>
            <li><p>Made category browser show only categories in the same site as the story, fix for bug 1249. [Scott]</p></li>
            <li><p>Fixed bug 1251, the list of Element Types when uploading a new media from a related media subelement is constrained to those in the current site. [Scott]</p></li>
            <li><p>Added notes about PostgreSQL's genetic query optimizer and its hate for Bricolage queries to Bric::DBA. [David]</p></li>
          </ul>
        </div>
          <h3>Bug Fixes</h3>
        <div class="list">
          <ul>
            <li><p>Fixed bug that resulted in an SQL error when trying to create a new contributor group. Reported by Joe Pletcher. [David]</p></li>
            <li><p>Fixed some foreign key constraints in the "story_instance" and "template_instance" tables that improperly have "ON DELETE SET NULL" clauses on "NOT NULL" columns. Reported by Andrei Arsu. [David]</p></li>
            <li><p>The "Trail" link in the template profile works again. Spotted by Marshall. [David]</p></li>
            <li><p>If run as root, <code>make clone</code> now <code>chown</code>s the inst directory to the PostgreSQL user before becoming the PostgreSQL user, so that the user has permission to create the inst/Pg.sql file. [David]</p></li>
            <li><p><code>make clone</code> no longer runs <code>distclean</code>, and therefore no longer deletes inst/Pg.sql. It also creates the new Pg.sql in the new distribution directory, instead of replacing the existing Pg.sql. [David]</p></li>
            <li><p>Deleting categories via SOAP works again. Reported by Brad Harder. [David]</p></li>
            <li><p>Fixed loading of deprecated classes so that older templates that still use them will continue to work. [David]</p></li>
            <li><p>Removed <q>Teaser</q> field from the story search interface, since there is no such field, and so it did nothing, anyway. [David]</p></li>
            <li><p>Publishing media documents that have had new files uploaded to them no longer causes a publish failure. Reported by Christian Niles and numerous others. [David]</p></li>
            <li><p>Added even <strong>more</strong> code to the <q>inst/upgrade/1.8.9/fix_publish_status.pl</q> upgrade script to better cover the possible variations in publish status inaccuracies. [Alex Howarth, David]</p></li>
            <li><p>The "Document Type/Output Channel" selection in the "Default Asset Sort" no longer breaks things. [David]</p></li>
            <li><p>Contributors with no more than the default role, "DEFAULT", who are associated with a story or media document, are once again correctly associated via the role. Reported by Chris Schults. [David]</p></li>
            <li><p><q>Checkin and Shelve</q> works again in the story profile. Reported by Chris Heiland (Ticket # 1237). [David]</p></li>
            <li><p>Fixed a script that upgrades to 1.9.1 to better copy over default values for field types from the 1.8 schema. Those who have already upgraded to check to make sure that any default values you had for custom fields in 1.8 are still present in 1.10.x. Anyone who has yet to upgrade to 1.10.x will now have their default values properly copied to the new schema when they do decide to upgrade. Reported by Chris Schults (Ticket # 1239). [David]</p></li>
            <li><p>Story and media subelements are once again properly deleted from within their profiles when the "Delete this Profile" checkbox is checked and either the "Save" or the "Save and Stay" button is pressed. Reported by Chris Schults (Ticket #1240). [David]</p></li>
            <li><p>Searches by URI for media to relate to a document now properly remember the search results the next time the related media search page is loaded. Reported by Chris Schults (Ticket # 1241). [David]</p></li>
            <li><p><q>make dev</q> no longer supports the <q>single</q> installation mode, since it will wipe out all of /usr/local/lib and /usr/local/bin. Reported by Christian Muise (Ticket # 1246). [David]</p></li>
            <li><p>The search interface for paginated searches no longer gets stuck when the alpha search preference is enabled. Reported by Neal Sofge (Ticket # 1247). [David]</p></li>
            <li><p>Fixed contrib/bric_media_upload so that it works with 1.10 categories and XML elements. [David, Paul Orrock, and George Harrison]</p></li>
            <li><p>Bricolage now assumes that template files uploaded in the template profile are encoded in UTF-8, since the same is assumed for templates pasted into the form field. [David]</p></li>
            <li><p>Fixed resource deletion code in Bric::DBA to properly use booleans for boolean columns. Reported by John Greene. [David]</p></li>
            <li><p>Eliminated <q>Use of uninitialized value in substitution (s///)</q> warning for stories with no slug and a URI format with <q>%{slug}</q> in it. Reported by Wayne Slavin. [David]</p></li>
            <li><p>bric_soap no longer prompts for a password if you use <q>--use-cookie-file</q>. Reported by Paul Orrock. [Scott]</p></li>
            <li><p>bin files should no longer be put under the default site script directory (compensates for an ExtUtils::MakeMaker change). [Scott]</p></li>
            <li><p>When a media document gets a new file uploaded with the same name as the previously published file in that same media document, Bricolage will no longer expire the new file right after publishing it. Reported by Chris Schults and others. [David]</p></li>
            <li><p>The delete checkbox and menu to move an asset to another desk no longer appear for assets listed on a desk that are checked out to a different user. [David Beaudet]</p></li>
            <li><p>Fixed bugs in <q>bric_dev_sync</q> resulting from the renaming of Elements to Element Types. [Marshall]</p></li>
            <li><p>Fixed an apparently old bug with editing keywords in the Category Profile, where you couldn't Save if there were exactly 3 keywords. [Scott]</p></li>
            <li><p>Fixed pasto in Bric::Util::Trans::SFTP that should have prevented it from ever working, but somehow did not. [David P. Beaudet]</p></li>
            <li><p>Fixed the datetime-handling regex in Bric::Util::Time's "datetime" function, introduced in version 1.9.0. It was failing on datetimes that end with 'Z' (c.f. ISO 8601). [Scott]</p></li>
            <li><p>Fixed bug 1258, where MIME types weren't being recognized. [Bret Dawson]</p></li>
            <li><p>Fixed bug 1283, allowing <q><=</q> in Alerts. [Brad Fox]</p></li>
            <li><p>Fixed pasto causing <q>Can't locate object method 'get_grp_ids' via package 'id'</q> error in Element Profile. Reported by Matt Rolf. [Scott]</p></li>
            <li><p>When adding subelements to an ElementType profile, subelements that have already been added are no longer listed. Reported by Phillip Smith in bug 1253. [Scott]</p></li>
            <li><p>Stopped the upgrade script inst/upgrade/1.9.1/delete_old_stuff.pl from incorrectly deleting lib/Bric/App/Callback/Profile/ElementType.pm, which is still in use. If you've upgraded from before 1.9.1, you'll have to copy that file from the distribution source. [Scott]</p></li>
            <li><p>Changing the category of a media object now calls a preview of the asset if <code>AUTO_PREVIEW_MEDIA</code> is turned on. [Paul Orrock]</p></li>
            <li><p>For bug 1267, remove protocol+hostname+port from a login URL in order to allow reverse proxying to work in Apache2. [Steffen Schwigon]</p></li>
            <li><p>Fixed contributor type creation (bug 1299). [Greg Heo]</p></li>
          </ul>
        </div>

<div id="disqus_thread"></div><script type="text/javascript" src="http://disqus.com/forums/bricolagecms/embed.js"></script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=bricolagecms">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
<div id="sidebar" class="column span-8 last">
            <dl id="downloads">
              <dt>Downloads</dt>
              <dd class="current"><a href="../../../../downloads/bricolage-1.10.3.tar.gz" title="Download Bricolage 1.10.3 Now!">Download Now!</a><br />(Version 1.10.3)</dd>
              <dd class="more"><a href="../../../../downloads.html" title="Older releases and other downloads">More Downloads</a></dd>
            </dl>
		<dl id="recent-project-activity">
			<dt>
				Recent project activty
			</dt>
<dd><a href="http://www.gossamer-threads.com/lists/bricolage/users/41115" title="Doorself, la porta in legno massello per il professionista" target="_blank" rel="nofollow">Doorself, la porta in legno massello per il professionista</a><br /="/">January 28, 2017</dd>
<dd><a href="http://www.gossamer-threads.com/lists/bricolage/devel/41114" title="Doorself, la porta in legno massello per il professionista" target="_blank" rel="nofollow">Doorself, la porta in legno massello per il professionista</a><br /="/">January 28, 2017</dd>
<dd><a href="http://www.gossamer-threads.com/lists/bricolage/users/41109" title="Cloned Bric 1.10.2 fails to start" target="_blank" rel="nofollow">Cloned Bric 1.10.2 fails to start</a><br /="/">June 15, 2016</dd>
<dd><a href="http://www.gossamer-threads.com/lists/bricolage/devel/41107" title="You have been added to Bricolage Developers" target="_blank" rel="nofollow">You have been added to Bricolage Developers</a><br /="/">June 2, 2016</dd>
<dd><a href="http://www.gossamer-threads.com/lists/bricolage/users/41108" title="You have been added to Bricolage Users" target="_blank" rel="nofollow">You have been added to Bricolage Users</a><br /="/">June 2, 2016</dd>
	
		</dl>
		<dl id="planet-bricolage" class="box">
			<dt>
				Planet Bricolage
			</dt>
<dd><a href="http://www.youtube.com/watch?v=uU0FBda4sX0&feature=youtube_gdata" title="A sneak-peak at Bricolage 1.11&#39;s new AJAX features" target="_blank" rel="nofollow">A sneak-peak at Bricolage 1.11&#39;s new AJAX features</a><br /="/">June 2, 2009</dd>
	
		</dl>
		<dl id="search" class="box">
				<dt>
					Search Bricolage
				</dt>
				<div id="cse" style="width: 99%;">Loading</div>
				<script src="http://www.google.com/jsapi" type="text/javascript"></script>
				<script type="text/javascript">
				  google.load('search', '1', {language : 'en'});
				  google.setOnLoadCallback(function(){
					var customSearchControl = new google.search.CustomSearchControl('013635470282570704404:c3ljue3ezoy');
					customSearchControl.setResultSetSize(google.search.Search.SMALL_RESULTSET);
					customSearchControl.draw('cse');
				  }, true);
				</script>
				<link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css" />
		</dl>
</div>

    
<!-- #bbinclude "footer.html" -->
 
<div id="footer" class="column span-24 last">
	<div class="menu column span-24 last">
		<ul>
			<li>
				<a href="../../../../index.html">Home</a> 
			</li>
			<li>
				<a href="../../../../tour/index.html">Tour</a> 
			</li>
			<li>
				<a href="../../../../showcase/index.html">Showcase</a> 
			</li>
			<li>
				<a href="../../../../downloads.html">Download</a> 
			</li>
			<li>
				<a href="../../../../support/index.html">Support</a> 
			</li>
		</ul>
		<ul>
			<li>
				<a href="http://github.com/bricoleurs/bricolage">Source Code</a> 
			</li>
			<li>
				<a href="http://wiki.github.com/bricoleurs/bricolage/">Wiki</a> 
			</li>
			<li>
				<a href="../../../../docs/current/api/index.html">API Documentation</a> 
			</li>
			<li>
				<a href="../../../../support/index.html#mailinglists">Mailing lists</a> 
			</li>
			<li>
				<a href="http://bricolage.lighthouseapp.com/projects/29601-bricolage">Report a Site Bug </a> 
			</li>
		</ul>
		<ul>
			<li>
				<a href="http://www.linkedin.com/groups?gid=74787&trk=myg_ugrp_ovr">LinkedIn group</a> 
			</li>
			<li>
				<a href="http://twitter.com/bricolagecms">Twitter</a> 
			</li>
			<li>
				<a href="http://www.facebook.com/pages/Bricolage-CMS/108168125880618">Facebook page</a> 
			</li>
			<li>
				<a href="http://feeds.feedburner.com/BricolageCMS">RSS updates</a> 
			</li>
			<li>
				<a href="http://feedburner.google.com/fb/a/mailverify?uri=BricolageCMS">E-mail updates</a> 
			</li>
		</ul>
		<div class="logo">
			&nbsp; 
		</div>
	</div>
	<p id="copyright">
		&copy; 2004-2010 Bricolage Development Team.
		<br />
		The contents of this site are licensed under a <a href="http://creativecommons.org/licenses/by-nc/2.0/">Creative Commons License</a>. 
	</p>
	<div class="center">
		<span id="tagline"> The mature, no-bullshit, built-like-a-tank web publishing system. </span> 
	</div>
</div>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-2885748-1");
pageTracker._trackPageview();
} catch(err) {}</script>
<script type="text/javascript">
//<![CDATA[
(function() {
	var links = document.getElementsByTagName('a');
	var query = '?';
	for(var i = 0; i < links.length; i++) {
	if(links[i].href.indexOf('#disqus_thread') >= 0) {
		query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
	}
	}
	document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/bricolagecms/get_num_replies.js' + query + '"></' + 'script>');
})();
//]]>
</script>
<script type="text/javascript">
var _sf_async_config={uid:5276,domain:"bricolagecms.org"};
(function(){
  function loadChartbeat() {
    window._sf_endpt=(new Date()).getTime();
    var e = document.createElement('script');
    e.setAttribute('language', 'javascript');
    e.setAttribute('type', 'text/javascript');
    e.setAttribute('src',
       (("https:" == document.location.protocol) ? "https://s3.amazonaws.com/" : "http://") +
       "static.chartbeat.com/js/chartbeat.js");
    document.body.appendChild(e);
  }
  var oldonload = window.onload;
  window.onload = (typeof window.onload != 'function') ?
     loadChartbeat : function() { oldonload(); loadChartbeat(); };
})();

</script>
</body>
</html>	
