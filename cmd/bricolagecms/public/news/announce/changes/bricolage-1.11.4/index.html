
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Bricolage CMS -- Bricolage 1.11.4 Changes</title>
	<meta name="keywords" content="" />
    <meta name="generator" content="Bricolage 2.0.0" />
	<link rel="stylesheet" href="../../../../ui/css/blueprint/screen.css" type="text/css" media="screen, projection">
	<link rel="stylesheet" href="../../../../ui/css/blueprint/print.css" type="text/css" media="print">
<!--[if lt IE 8]>
            <link rel="stylesheet" href="/ui/css/blueprint/ie.css" type="text/css" media="screen, projection">
        <![endif]-->
	<link rel="stylesheet" href="../../../../ui/css/bricolagecms-org.css@v04112010-2.css" type="text/css" media="screen, projection">
	
    <link rel="alternate" type="application/rss+xml" title="Bricolage CMS RSS Feed" href="http://feeds.feedburner.com/BricolageCMS" />

	<script type="text/javascript" src="../../../../ui/js/jquery/jquery-1.3.2.min.js">
    </script> 
    <script type="text/javascript" src="http://cloud.github.com/downloads/malsup/cycle/jquery.cycle.all.2.72.js"></script>
	<script src="../../../../ui/js/jquery.corner.js" type="text/javascript">
    </script> 
    <script type="text/javascript">
			$(function(){
			$('#header').corner("bottom");
			$('.box').corner("keep");
			$('#teaser').corner("keep");
			$('#enterprise').corner("keep");
			$('#sidebar dl').corner("keep");
			$('#slides').cycle({
				fx: 'fade',
   				timeout: 8000,  // milliseconds between slide transitions (0 to disable auto advance) 
    			pause: 1,     // true to enable "pause on hover" 
				});
			});
		</script> 
<script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
</head>
<body id="bricolage-1.11.4" class="news announce changes">
	<div class="container">
		<div id="header">
			<div class="header span-24 last">
				<a href="../../../../index.html"><h1>Bricolage Content Management System</h1></a> 
				<ul id="main-nav">
					<li>
						<a href="../../../../tour/index.html">Tour</a> 
					</li>
					<li>
						<a href="../../../../showcase/index.html">Showcase</a> 
					</li>
					<li>
						<a href="../../../../downloads.html">Download</a> 
					</li>
					<li>
						<a href="../../../../support/index.html">Support</a> 
					</li>
					<li>
						<a href="https://github.com/bricoleurs/bricolage/wiki">Wiki</a> 
					</li>
					<li>
						<a href="../../../../docs/current/api/index.html">API</a> 
					</li>
				</ul>
			</div>
		</div>	

<div id="content" class="column span-15 prepend-1">
	<h2>Bricolage 1.11.4 Changes</h2>
	<div id="articlemeta">
            <p class="date">2010.03.29</p>
          </div>
          <h3>New Features</h3>
        <div class="list">
          <ul>
            <li><p>Added the <code>--match-title</code> option to <code>contrib/bric_media_upload</code>. This will match the uploading file name against the title of the media object rather than the file name [Paul Orrock]</p></li>
            <li><p>Added the new Bricolage logo to the user interface. [Phillip]</p></li>
          </ul>
        </div>
          <h3>Improvements</h3>
        <div class="list">
          <ul>
            <li><p>When displaying categories associated with a story and the
<code>ENABLE_CATEGORY_BROWSER</code> <code>bricolage.conf</code> directive is true, the categories
are now displayed in alphabetical order by URI. [David]</p></li>
            <li><p>The installer no longer requires that <a href="https://bricolagecms.org/docs/current/api/Term::ReadPassword">Term::ReadPassword</a> be installed from
the CPAN before it continues. It will use it if it finds it, but if not it
substitutes a simple implementation that does the trick (<a href="http://bricolage.lighthouseapp.com/projects/29601-bricolage/tickets/136">Bug #136</a>). [David]</p></li>
            <li><p>When creating or editing a story or media document, the Source select list now
lists sources in alphabetical order. Reported by Michael Herring (Bug # 138).
[David]</p></li>
            <li><p>Added the <code>SFTP_KEY_TYPE</code>, <code>SFTP_PRIVATE_KEY_FILE</code> and
<code>SFTP_PUBLIC_KEY_FILE</code> <code>bricolage.conf</code> directives to to restore key-based
authentication to the SFTP mover. These were necessary as the old <code>SFTP_HOME</code>
directive does not work with the new implementation based on <code>Net::SSH2</code> (Bug
# 127). [Greg Heo]
</p></li>
            <li><p>When started by the root user, the <code>bric_queued</code> and <code>bric_ftpd</code> daemons now
become the Bricolage system user (usually the Apache user) after forking their
subprocesses, rather than before. This means that the PID file is now created
by the root user, and so should encounter no permission errors when saving the
PID file to standard OS locations. Reported by Serge Ivanchenko. [David]</p></li>
            <li><p>The default location for the FTP server's log files is now the <code>log</code>
subdirectory of the bricolage root directory, rather than the bricolage root
directory itself. This is what comments in <code>bricolage.conf</code> have always
suggested, even if <a href="https://bricolagecms.org/docs/current/api/Bric::Admin">Bric::Admin</a> and the code did not. [David]</p></li>
            <li><p>Added the <code>CATEGORY_MIN_CHARS</code> AND <code>CATEGORY_MIN_CHARS_TMP</code>
<code>bricolage.conf</code> directives. These give administrators the ability to control
the responsiveness of the autosuggest box for selecting categories to
associate with documents and templates. It had been set to 2 to make it more
responsive to sites with very large numbers of categories, but most folks only
need it set to 1, which is now the default. [David]</p></li>
            <li><p>Now require PostgreSQL 8.1 or higher. We will no longer support 8.0 or lower.
[David]</p></li>
            <li><p>The contributor popup now submits the updated list of contributors to
Bricolage, which updates them in the document and returns the updated list of
contributors. That list then updates the contributors section of the document
profile. Thanks to this change, editing contributors twice in a document
without saving in between no longer causes the changes from the first edit to
be forgotten. It also allows any changes to the contributor order to in the
popup to be properly updated in the document profile. [David]</p></li>
            <li><p>When hovering over the names of custom fields in the element type or
contributor type profile, the cursor displays as a “move” cursor, to indicate
that one can drag the field names in order to change their order. This
corresponds to the interface for reordering fields in documents. [David]</p></li>
            <li><p>When creating new stories or media via the SOAP interface, Bricolage no longer
forces the publish status to be set to false, but sets it to true if the the
publish date is set or the publish status is true in the XML. In such cases,
it will also set the published version number to version 1. This is to make it
easier for one to migrate documents from one Bricolage instance to another
without having to edit the XML to set the publish status to a true value.
[David]    </p></li>
          </ul>
        </div>
          <h3>Bug Fixes</h3>
        <div class="list">
          <ul>
            <li><p>Fixed a regular expression typo that led to a test failure. [Greg Heo]</p></li>
            <li><p>Adding a category to a story in a multi-site installation no longer has
a chance to throw a “Too many category objects found” error. [Greg Heo]</p></li>
            <li><p>Moved document expiration on deletion from <a href="https://bricolagecms.org/docs/current/api/Bric::Biz::Asset">Bric::Biz::Asset</a> to
<a href="https://bricolagecms.org/docs/current/api/Bric::Biz::Asset::Business">Bric::Biz::Asset::Business</a> because it's useless for templates and left
no-op job records lying around when templates were deleted. This code path
only executes when the <code>EXPIRE_ON_DEACTIVATE</code> <code>bricolage.conf</code> directive is
enabled. [David]</p></li>
            <li><p>Fixed document expiration when the <code>EXPIRE_ON_DEACTIVATE</code> <code>bricolage.conf</code>
directive is enabled so that it doesn't try to expire documents that have
never been published, or media documents that have no URI associated with them.
Thanks to Aaron Fuleki and Denison University for the report. [David]</p></li>
            <li><p><a href="https://bricolagecms.org/docs/current/api/Bric::Util::Burner">Bric::Util::Burner</a>'s <code>publish()</code> method no longer removes documents from
workflow after publishing them, as such is the responsibility of the code that
calls publish. The publish callback already did, and now so does the
<a href="https://bricolagecms.org/docs/current/api/Bric::SOAP::Workflow">Bric::SOAP::Workflow</a> <code>publish()</code> method. Thanks to David Beaudet for the
report and Aaron Fuleki for the steps to replicate (<a href="http://bricolage.lighthouseapp.com/projects/29601-bricolage/tickets/98">Bug #98</a>). [David]</p></li>
            <li><p>Fixed a bug where contributor and category search results would be propagated
to the contributor and category editing screens with a story or media
document. Searches from within documents should cache their own results,
separate from the admin search interfaces. [David]</p></li>
            <li><p>Contributors associated with a story or media document and categories
associated with a story document are no longer paginated. When there were more
contributors or categories than would fit on a paginated page, the pagination
didn't work and reording didn't work. So by disabling pagination in this case,
we get around that issue. Documents with that many categories or contributors
are rare, so the trade-off seems worthwhile. Thanks to Bret Dawson for the
report (<a href="http://bricolage.lighthouseapp.com/projects/29601-bricolage/tickets/121">Bug #121</a>). [David]</p></li>
            <li><p>Fixed the “Log In” button so that the word “In” is antialiased. [Waldo
Jaquith]</p></li>
            <li><p>New media can once again be created from a related media element. It was
broken by the switch to autocompleted category selection for new media
documents in 1.11.3. Thanks to Waldo Jaquith and Iván Chavero for the spot
(Bugs #134 and #135). [David]</p></li>
            <li><p>Fixed the “Not a GLOB reference” error when using the PHP burner on Perl 5.10.
[Alex Krohn]</p></li>
            <li><p>The simple search in workflows no longer disables navigation links on the same
horizontal line as the “Search” button. Thanks to Matt Rolf for the report
(Bug # 141) and to Marshall for the CSS jujitsu. [David]</p></li>
            <li><p>The <code>best_uri()</code> method of <a href="https://bricolagecms.org/docs/current/api/Bric::Util::Burner">Bric::Util::Burner</a> now avoids expired stories
when searching for aliased stories. Thanks to Zdravko Balorda for the catch
(<a href="http://bricolage.lighthouseapp.com/projects/29601-bricolage/tickets/144">Bug #144</a>). [David]</p></li>
            <li><p>Fixed issue with the use of <code>findElementsByClass()</code> when used with Prototype
1.6.0.3. Thanks to Adrian Yee for the report and suggested fix. [David]</p></li>
            <li><p>Subelements can once again be added to media documents when the
<code>ENABLE_CATEGORY_BROWSER</code> <code>bricolage.conf</code> directive is enabled without
getting the error “Please select a primary category.” Broken in 1.11.3. Thanks
to Vincent Stemen for the report (<a href="http://bricolage.lighthouseapp.com/projects/29601-bricolage/tickets/143">Bug #143</a>). [David]</p></li>
            <li><p>The field type profile now properly validates code select code and lets the
user know if it's not valid. [David]</p></li>
            <li><p>The validation of code select field code is now consistent between the element
type profile, the field type profile, and the SOAP element type interface.
Thanks to Krzysztof Rudnik for the report (<a href="http://bricolage.lighthouseapp.com/projects/29601-bricolage/tickets/140">Bug #140</a>). [David]</p></li>
            <li><p>Media no longer throw the exception “Can't call method “write” on an undefined
value” when <a href="http://search.cpan.org/perldoc?Imager">Imager</a> is doesn't recognize an image file format. Thanks to
Matt Rolf for the report (<a href="http://bricolage.lighthouseapp.com/projects/29601-bricolage/tickets/146">Bug #146</a>). [David]</p></li>
            <li><p>Deleting contributors in the contributor popup window now works the same as it
does when deleting them in the story or media profile: without a submit, but
by simply removing the contributor from the DOM. [David]</p></li>
            <li><p>Hitting the “enter” key when searching for contributors in the contributor
popup no longer closes the window, but properly submits the search. Thanks to
Matt Rolf for the report (<a href="http://bricolage.lighthouseapp.com/projects/29601-bricolage/tickets/147">Bug #147</a>).</p></li>
            <li><p>Contributor type fields can once again be reordered and deleted. Thanks to
Krzysztof Rudnik for the report (<a href="http://bricolage.lighthouseapp.com/projects/29601-bricolage/tickets/139">Bug #139</a>). [David]</p></li>
            <li><p>When relating a story or media document, clicking a column header in the
search results in the related search popup no longer throws an error. Thanks
to Phillip for the report (<a href="http://bricolage.lighthouseapp.com/projects/29601-bricolage/tickets/149">Bug #149</a>). [David]</p></li>
            <li><p>The SOAP interface now sets the published version to the new version of a
story or media document that is being updated by XML that says the document is
published and where the published version was not previously set. [David]</p></li>
            <li><p>When creating a template via the SOAP interface, if the template in the
specified output channel, category, and site already exists but is
deactivated, it will be re-activated and updated instead of throwing an error.
This matches how the UI works. [David]</p></li>
            <li><p>Setting the <code>RELATED_DOC_POD_TAG</code> <code>bricolage.conf</code> directive to “url” no
longer breaks bulk edit. Thanks to Phillip for the report (<a href="http://bricolage.lighthouseapp.com/projects/29601-bricolage/tickets/150">Bug #150</a>). [David]</p></li>
            <li><p>The <code>best_uri()</code> method of <a href="https://bricolagecms.org/docs/current/api/Bric::Util::Burner">Bric::Util::Burner</a> now works when creating a
link to a story on a different site and the protocol for the output channel is
not set. It defaults to “http://” for the protocol. [David]</p></li>
          </ul>
        </div>

<div id="disqus_thread"></div><script type="text/javascript" src="http://disqus.com/forums/bricolagecms/embed.js"></script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=bricolagecms">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
<div id="sidebar" class="column span-8 last">
            <dl id="downloads">
              <dt>Downloads</dt>
              <dd class="current"><a href="../../../../downloads/bricolage-1.11.4.tar.gz" title="Download Bricolage 1.11.3 Now!">Download Now!</a><br />(Version 1.11.3)</dd>
              <dd class="more"><a href="../../../../downloads.html" title="Older releases and other downloads">More Downloads</a></dd>
            </dl>
		<dl id="recent-project-activity">
			<dt>
				Recent project activty
			</dt>
<dd><a href="http://www.gossamer-threads.com/lists/bricolage/users/41115" title="Doorself, la porta in legno massello per il professionista" target="_blank" rel="nofollow">Doorself, la porta in legno massello per il professionista</a><br /="/">January 28, 2017</dd>
<dd><a href="http://www.gossamer-threads.com/lists/bricolage/devel/41114" title="Doorself, la porta in legno massello per il professionista" target="_blank" rel="nofollow">Doorself, la porta in legno massello per il professionista</a><br /="/">January 28, 2017</dd>
<dd><a href="http://www.gossamer-threads.com/lists/bricolage/users/41109" title="Cloned Bric 1.10.2 fails to start" target="_blank" rel="nofollow">Cloned Bric 1.10.2 fails to start</a><br /="/">June 15, 2016</dd>
<dd><a href="http://www.gossamer-threads.com/lists/bricolage/devel/41107" title="You have been added to Bricolage Developers" target="_blank" rel="nofollow">You have been added to Bricolage Developers</a><br /="/">June 2, 2016</dd>
<dd><a href="http://www.gossamer-threads.com/lists/bricolage/users/41108" title="You have been added to Bricolage Users" target="_blank" rel="nofollow">You have been added to Bricolage Users</a><br /="/">June 2, 2016</dd>
	
		</dl>
		<dl id="planet-bricolage" class="box">
			<dt>
				Planet Bricolage
			</dt>
<dd><a href="http://www.youtube.com/watch?v=uU0FBda4sX0&feature=youtube_gdata" title="A sneak-peak at Bricolage 1.11&#39;s new AJAX features" target="_blank" rel="nofollow">A sneak-peak at Bricolage 1.11&#39;s new AJAX features</a><br /="/">June 2, 2009</dd>
	
		</dl>
		<dl id="search" class="box">
				<dt>
					Search Bricolage
				</dt>
				<div id="cse" style="width: 99%;">Loading</div>
				<script src="http://www.google.com/jsapi" type="text/javascript"></script>
				<script type="text/javascript">
				  google.load('search', '1', {language : 'en'});
				  google.setOnLoadCallback(function(){
					var customSearchControl = new google.search.CustomSearchControl('013635470282570704404:c3ljue3ezoy');
					customSearchControl.setResultSetSize(google.search.Search.SMALL_RESULTSET);
					customSearchControl.draw('cse');
				  }, true);
				</script>
				<link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css" />
		</dl>
</div>

    
<!-- #bbinclude "footer.html" -->
 
<div id="footer" class="column span-24 last">
	<div class="menu column span-24 last">
		<ul>
			<li>
				<a href="../../../../index.html">Home</a> 
			</li>
			<li>
				<a href="../../../../tour/index.html">Tour</a> 
			</li>
			<li>
				<a href="../../../../showcase/index.html">Showcase</a> 
			</li>
			<li>
				<a href="../../../../downloads.html">Download</a> 
			</li>
			<li>
				<a href="../../../../support/index.html">Support</a> 
			</li>
		</ul>
		<ul>
			<li>
				<a href="http://github.com/bricoleurs/bricolage">Source Code</a> 
			</li>
			<li>
				<a href="http://wiki.github.com/bricoleurs/bricolage/">Wiki</a> 
			</li>
			<li>
				<a href="../../../../docs/current/api/index.html">API Documentation</a> 
			</li>
			<li>
				<a href="../../../../support/index.html#mailinglists">Mailing lists</a> 
			</li>
			<li>
				<a href="http://bricolage.lighthouseapp.com/projects/29601-bricolage">Report a Site Bug </a> 
			</li>
		</ul>
		<ul>
			<li>
				<a href="http://www.linkedin.com/groups?gid=74787&trk=myg_ugrp_ovr">LinkedIn group</a> 
			</li>
			<li>
				<a href="http://twitter.com/bricolagecms">Twitter</a> 
			</li>
			<li>
				<a href="http://www.facebook.com/pages/Bricolage-CMS/108168125880618">Facebook page</a> 
			</li>
			<li>
				<a href="http://feeds.feedburner.com/BricolageCMS">RSS updates</a> 
			</li>
			<li>
				<a href="http://feedburner.google.com/fb/a/mailverify?uri=BricolageCMS">E-mail updates</a> 
			</li>
		</ul>
		<div class="logo">
			&nbsp; 
		</div>
	</div>
	<p id="copyright">
		&copy; 2004-2010 Bricolage Development Team.
		<br />
		The contents of this site are licensed under a <a href="http://creativecommons.org/licenses/by-nc/2.0/">Creative Commons License</a>. 
	</p>
	<div class="center">
		<span id="tagline"> The mature, no-bullshit, built-like-a-tank web publishing system. </span> 
	</div>
</div>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-2885748-1");
pageTracker._trackPageview();
} catch(err) {}</script>
<script type="text/javascript">
//<![CDATA[
(function() {
	var links = document.getElementsByTagName('a');
	var query = '?';
	for(var i = 0; i < links.length; i++) {
	if(links[i].href.indexOf('#disqus_thread') >= 0) {
		query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
	}
	}
	document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/bricolagecms/get_num_replies.js' + query + '"></' + 'script>');
})();
//]]>
</script>
<script type="text/javascript">
var _sf_async_config={uid:5276,domain:"bricolagecms.org"};
(function(){
  function loadChartbeat() {
    window._sf_endpt=(new Date()).getTime();
    var e = document.createElement('script');
    e.setAttribute('language', 'javascript');
    e.setAttribute('type', 'text/javascript');
    e.setAttribute('src',
       (("https:" == document.location.protocol) ? "https://s3.amazonaws.com/" : "http://") +
       "static.chartbeat.com/js/chartbeat.js");
    document.body.appendChild(e);
  }
  var oldonload = window.onload;
  window.onload = (typeof window.onload != 'function') ?
     loadChartbeat : function() { oldonload(); loadChartbeat(); };
})();

</script>
</body>
</html>	
